<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro | Salve o Ornitorrinco</title>
    <meta name="description" content="Cadastre-se como voluntário ou doador.">
    <style>
        /* Mesmo design system */
        form { max-width: 600px; margin: 0 auto; }
        label { display: block; margin: var(--space-1) 0 var(--space-05); font-weight: 600; }
        input, select { width: 100%; padding: var(--space-2); border: 1px solid #ccc; border-radius: 6px; }
        input:invalid { border-color: var(--color-error); }
        input:valid { border-color: var(--color-success); }
        .form-group { margin-bottom: var(--space-3); }
        .grid-form { display: grid; gap: var(--space-2); grid-template-columns: 1fr; }
        @media (min-width: 640px) { .grid-form { grid-template-columns: 1fr 1fr; } }
    </style>
</head>
<body>
    <header>...</header>

    <main class="container" id="main-content">
        <h1 style="text-align: center; margin: var(--space-6) 0;">Cadastro</h1>

        <form id="cadastroForm" novalidate>
            <div class="form-group">
                <label for="tipo">Tipo de Cadastro *</label>
                <select id="tipo" required>
                    <option value="">Selecione</option>
                    <option value="voluntario">Voluntário</option>
                    <option value="doador">Doador</option>
                </select>
            </div>

            <div class="grid-form">
                <div class="form-group">
                    <label for="nome">Nome Completo *</label>
                    <input type="text" id="nome" required minlength="5" placeholder="João Silva">
                </div>
                <div class="form-group">
                    <label for="email">E-mail *</label>
                    <input type="email" id="email" required placeholder="joao@email.com">
                </div>
            </div>

            <div class="grid-form">
                <div class="form-group">
                    <label for="cpf">CPF *</label>
                    <input type="text" id="cpf" required pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" placeholder="000.000.000-00">
                </div>
                <div class="form-group">
                    <label for="telefone">Telefone *</label>
                    <input type="tel" id="telefone" required pattern="\(\d{2}\) \d{5}-\d{4}" placeholder="(11) 98765-4321">
                </div>
            </div>

            <div class="form-group">
                <label for="nascimento">Data de Nascimento *</label>
                <input type="date" id="nascimento" required max="2007-01-01">
            </div>

            <div class="grid-form">
                <div class="form-group">
                    <label for="cep">CEP *</label>
                    <input type="text" id="cep" required pattern="\d{5}-\d{3}" placeholder="00000-000">
                </div>
                <div class="form-group">
                    <label for="cidade">Cidade *</label>
                    <input type="text" id="cidade" required>
                </div>
            </div>

            <div class="form-group">
                <label for="estado">Estado *</label>
                <select id="estado" required>
                    <option value="">Selecione</option>
                    <option value="SP">São Paulo</option>
                    <!-- outros -->
                </select>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%;">Cadastrar</button>
        </form>
    </main>

    <script>
        // Máscaras com Vanilla JS
        document.getElementById('cpf').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '');
            v = v.replace(/(\d{3})(\d)/, '$1.$2');
            v = v.replace(/(\d{3})(\d)/, '$1.$2');
            v = v.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = v;
        });

        document.getElementById('telefone').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '');
            v = v.replace(/^(\d{2})(\d)/, '($1) $2');
            v = v.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = v;
        });

        document.getElementById('cep').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '');
            v = v.replace(/^(\d{5})(\d)/, '$1-$2');
            e.target.value = v;
        });

        // Validação e Feedback
        const form = document.getElementById('cadastroForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            if (form.checkValidity()) {
                showToast('Cadastro realizado com sucesso!');
                setTimeout(() => {
                    document.getElementById('modal').classList.add('active');
                }, 500);
            } else {
                showToast('Preencha todos os campos corretamente.');
            }
        });
    </script>
</body>
</html>